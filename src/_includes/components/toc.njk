{#
  Table of contents component
  Usage: {% include "components/toc.njk" %}
  Expects: toc array (generated from headings)
#}
{% if toc and toc.length %}
<nav class="toc" aria-label="Table des matieres">
  <h2 class="toc-title">Sommaire</h2>
  <ol class="toc-list">
    {% for item in toc %}
    <li class="toc-item toc-level-{{ item.level }}">
      <a href="#{{ item.id }}">{{ item.text }}</a>
      {% if item.children and item.children.length %}
      <ol class="toc-sublist">
        {% for child in item.children %}
        <li class="toc-item toc-level-{{ child.level }}">
          <a href="#{{ child.id }}">{{ child.text }}</a>
        </li>
        {% endfor %}
      </ol>
      {% endif %}
    </li>
    {% endfor %}
  </ol>
</nav>
{% endif %}
